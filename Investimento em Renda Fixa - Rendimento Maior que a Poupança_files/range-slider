!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rangeSlider",[],t):"object"==typeof exports?exports.rangeSlider=t():n.rangeSlider=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=1)}([function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(t.delay=function(n,t){for(var r=arguments.length,u=Array(r>2?r-2:0),i=2;i<r;i++)u[i-2]=arguments[i];return setTimeout(function(){return n.apply(null,u)},t)},t.debounce=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];return n.debouncing||(n.lastReturnVal=n.apply(window,u),n.debouncing=!0),clearTimeout(n.debounceTimeout),n.debounceTimeout=setTimeout(function(){n.debouncing=!1},t),n.lastReturnVal}},t.isString=function(n){return n===""+n}),r=(t.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)},t.isNumberLike=function(n){return null!==n&&void 0!==n&&(i(n)&&isFinite(parseFloat(n))||isFinite(n))});t.getFirsNumberLike=function(){for(var t,f,u=arguments.length,n=Array(u),i=0;i<u;i++)n[i]=arguments[i];if(!n.length)return null;for(t=0,f=n.length;t<f;t++)if(r(n[t]))return n[t];return null};t.isObject=function(n){return"[object Object]"===Object.prototype.toString.call(n)};t.simpleExtend=function(n,t){var i={},r,u;for(r in n)i[r]=n[r];for(u in t)i[u]=t[u];return i};t.between=function(n,t,i){return n<t?t:n>i?i:n}},function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=i(2),r=e(h),c=i(0),u=e(c);i(3);var l=new RegExp("/[\\n\\t]/","g"),a=100,f="rangeSlider",v=0,y=r.supportsRange(),p={polyfill:!0,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},w=function(){function n(t,i){var e;o(this,n);var h=void 0,c=void 0,l=void 0,w=void 0,s=void 0;(this.element=t,this.options=u.simpleExtend(p,i),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this.polyfill||!y)&&(this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-"+f+"-"+v++,this.min=u.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),h=0),this.max=u.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),c=a),this.value=u.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=u.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(l=1)),this.percent=null,u.isArray(this.options.stick)&&this.options.stick.length>=1?this.stick=this.options.stick:(w=this.element.getAttribute("stick"))&&(s=w.split(" "),s.length>=1&&(this.stick=s.map(parseFloat))),this.stick&&1===this.stick.length&&this.stick.push(1.5*this.step),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step),e=void 0,this.container=document.createElement("div"),r.addClass(this.container,this.options.fillClass),e=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",r.addClass(this.container,e),this.handle=document.createElement("div"),r.addClass(this.handle,this.options.handleClass),e=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",r.addClass(this.handle,e),this.range=document.createElement("div"),r.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier,this.range.appendChild(this.handle),this.range.appendChild(this.container),e=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",r.addClass(this.range,e),this.options.bufferClass&&(this.buffer=document.createElement("div"),r.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),e=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",r.addClass(this.buffer,e)),u.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),u.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),(u.isNumberLike(this.options.min)||h)&&this.element.setAttribute("min",""+this.min),(u.isNumberLike(this.options.max)||c)&&this.element.setAttribute("max",""+this.max),(u.isNumberLike(this.options.step)||l)&&this.element.setAttribute("step",""+this.step),r.insertAfter(this.element,this.range),r.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),r.addEventListeners(document,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1))}return s(n,[{key:"update",value:function(n,t){return t&&(this.needTriggerEvents=!0),u.isObject(n)&&(u.isNumberLike(n.min)&&(this.element.setAttribute("min",""+n.min),this.min=n.min),u.isNumberLike(n.max)&&(this.element.setAttribute("max",""+n.max),this.max=n.max),u.isNumberLike(n.step)&&(this.element.setAttribute("step",""+n.step),this.step=n.step,this.toFixed=this._toFixed(n.step)),u.isNumberLike(n.buffer)&&this._setBufferPosition(n.buffer),u.isNumberLike(n.value)&&this._setValue(n.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){r.removeAllListenersFromEl(this,document);window.removeEventListener("resize",this._handleResize,!1);this.element.removeEventListener("change",this._changeEventListener,!1);this.element.style.cssText="";delete this.element[f];this.range&&this.range.parentNode.removeChild(this.range)}},{key:"_toFixed",value:function(n){return(n+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&"function"==typeof this.onInit&&this.onInit();this._update()}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(n,t){var i=this,f=n.target,u=!1;(1===n.which||"touches"in n)&&(r.forEachAncestors(f,function(n){return u=n.id===i.identifier&&!r.hasClass(n,i.options.disabledClass)},!0),u&&this._handleDown(n,t))}},{key:"_changeEventListener",value:function(n,t){if(!t||t.origin!==this.identifier){var i=n.target.value,r=this._getPositionFromValue(i);this._setPosition(r)}}},{key:"_update",value:function(){var n=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=r.getDimension(this.handle,n);this.rangeSize=r.getDimension(this.range,n);this.maxHandleX=this.rangeSize-this.handleSize;this.grabX=this.handleSize/2;this.position=this._getPositionFromValue(this.value);this.element.disabled?r.addClass(this.range,this.options.disabledClass):r.removeClass(this.range,this.options.disabledClass);this._setPosition(this.position);this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer);this._updatePercentFromValue();r.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_handleResize",value:function(){var n=this;return u.debounce(function(){u.delay(function(){n._update()},300)},50)()}},{key:"_handleDown",value:function(n){if(this.isInteractsNow=!0,n.preventDefault(),r.addEventListeners(document,this.options.moveEvent,this._handleMove),r.addEventListeners(document,this.options.endEvent,this._handleEnd),!((" "+n.target.className+" ").replace(l," ").indexOf(this.options.handleClass)>-1)){var u=this.range.getBoundingClientRect(),t=this._getRelativePosition(n),f=this.vertical?u.bottom:u.left,i=this._getPositionFromNode(this.handle)-f,e=t-this.grabX;this._setPosition(e);t>=i&&t<i+2*this.options.borderRadius&&(this.grabX=t-i);this._updatePercentFromValue()}}},{key:"_handleMove",value:function(n){var t=this._getRelativePosition(n);this.isInteractsNow=!0;n.preventDefault();this._setPosition(t-this.grabX)}},{key:"_handleEnd",value:function(n){n.preventDefault();r.removeEventListeners(document,this.options.moveEvent,this._handleMove);r.removeEventListeners(document,this.options.endEvent,this._handleEnd);r.triggerEvent(this.element,"change",{origin:this.identifier});(this.isInteractsNow||this.needTriggerEvents)&&this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.value,this.percent,this.position);this.onSlideEventsCount=0;this.isInteractsNow=!1}},{key:"_setPosition",value:function(n){var t=void 0,e=void 0,r=void 0,f=void 0,i=this._getValueFromPosition(u.between(n,0,this.maxHandleX));this.stick&&(f=this.stick[0],e=this.stick[1]||.1,r=i%f,r<e?i-=r:Math.abs(f-r)<e&&(i=i-r+f));t=this._getPositionFromValue(i);this.vertical?(this.container.style.height=t+this.grabX+"px",this.handle.style.transform="translateY(-"+t+"px)",this.handle.style["-ms-transform"]="translateY(-"+t+"px)"):(this.container.style.width=t+this.grabX+"px",this.handle.style.transform="translateX("+t+"px)",this.handle.style["-ms-transform"]="translateX("+t+"px)");this._setValue(i);this.position=t;this.value=i;this._updatePercentFromValue();(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&"function"==typeof this.onSlideStart&&0===this.onSlideEventsCount&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(this.value,this.percent,this.position));this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(n){var f=!0,t,r,i;if(isFinite(n))n=parseFloat(n);else{if(!u.isString(n))return void console.warn("New position must be XXpx or XX%");n.indexOf("px")>0&&(f=!1);n=parseFloat(n)}if(isNaN(n))return void console.warn("New position is NaN");if(!this.options.bufferClass)return void console.warn("You disabled buffer, it's className is empty");t=f?n:n/this.rangeSize*100;t<0&&(t=0);t>100&&(t=100);this.options.buffer=t;r=this.options.borderRadius/this.rangeSize*100;i=t-r;i<0&&(i=0);this.vertical?(this.buffer.style.height=i+"%",this.buffer.style.bottom=.5*r+"%"):(this.buffer.style.width=i+"%",this.buffer.style.left=.5*r+"%");this.element.setAttribute("data-buffer",t)}},{key:"_getPositionFromNode",value:function(n){for(var t=this.vertical?this.maxHandleX:0;null!==n;)t+=this.vertical?n.offsetTop:n.offsetLeft,n=n.offsetParent;return t}},{key:"_getRelativePosition",value:function(n){var r=this.range.getBoundingClientRect(),u=this.vertical?r.bottom:r.left,i=0,t=this.vertical?"pageY":"pageX";return void 0!==n[t]?i=n.touches&&n.touches.length?n.touches[0][t]:n[t]:void 0!==n.originalEvent?void 0!==n.originalEvent[t]?i=n.originalEvent[t]:n.originalEvent.touches&&n.originalEvent.touches[0]&&void 0!==n.originalEvent.touches[0][t]&&(i=n.originalEvent.touches[0][t]):n.touches&&n.touches[0]&&void 0!==n.touches[0][t]?i=n.touches[0][t]:!n.currentPoint||void 0===n.currentPoint.x&&void 0===n.currentPoint.y||(i=this.vertical?n.currentPoint.y:n.currentPoint.x),this.vertical&&(i-=window.pageYOffset),this.vertical?u-i:i-u}},{key:"_getPositionFromValue",value:function(n){var i=(n-this.min)/(this.max-this.min),t=i*this.maxHandleX;return isNaN(t)?0:t}},{key:"_getValueFromPosition",value:function(n){var t=n/(this.maxHandleX||1),i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min;return Number(i.toFixed(this.toFixed))}},{key:"_setValue",value:function(n,t){(n!==this.value||t)&&(this.element.value=n,this.value=n,r.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(t,i){var r=function(t){var r=t[f];r||(r=new n(t,i),t[f]=r)};t.length?Array.prototype.slice.call(t).forEach(function(n){r(n)}):r(t)}}]),n}();t.default=w;n.exports=t.default},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.supportsRange=t.removeAllListenersFromEl=t.removeEventListeners=t.addEventListeners=t.insertAfter=t.triggerEvent=t.forEachAncestors=t.removeClass=t.addClass=t.hasClass=t.setCss=t.getDimension=t.getHiddenParentNodes=t.isHidden=t.detectIE=void 0;var u=i(0),f=function(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}(u),e=t.detectIE=function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):n.indexOf("Trident/")>0?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0&&parseInt(n.substring(t+5,n.indexOf(".",t)),10))},o=e(),s=!(!window.PointerEvent||o)&&{passive:!1},h=t.isHidden=function(n){return 0===n.offsetWidth||0===n.offsetHeight||!1===n.open},c=t.getHiddenParentNodes=function(n){for(var i=[],t=n.parentNode;h(t);)i.push(t),t=t.parentNode;return i},r=(t.getDimension=function(n,t){var i=c(n),f=i.length,e=[],o=n[t],s=function(n){void 0!==n.open&&(n.open=!n.open)},r,u;if(f){for(r=0;r<f;r++)e[r]=i[r].style.display,i[r].style.display="block",i[r].style.height="0",i[r].style.overflow="hidden",i[r].style.visibility="hidden",s(i[r]);for(o=n[t],u=0;u<f;u++)s(i[u]),i[u].style.display=e[u],i[u].style.height="",i[u].style.overflow="",i[u].style.visibility=""}return o},t.setCss=function(n,t){for(var i in t)n.style[i]=t[i];return n.style},t.hasClass=function(n,t){return new RegExp(" "+t+" ").test(" "+n.className+" ")});t.addClass=function(n,t){r(n,t)||(n.className+=" "+t)};t.removeClass=function(n,t){var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(r(n,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}};t.forEachAncestors=function(n,t,i){for(i&&t(n);n.parentNode&&!t(n);)n=n.parentNode;return n};t.triggerEvent=function(n,t,i){if(!f.isString(t))throw new TypeError("event name must be String");if(!(n instanceof HTMLElement))throw new TypeError("element must be HTMLElement");t=t.trim();var r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,i);n.dispatchEvent(r)};t.insertAfter=function(n,t){return n.parentNode.insertBefore(t,n.nextSibling)};t.addEventListeners=function(n,t,i){t.forEach(function(t){n.eventListenerList||(n.eventListenerList={});n.eventListenerList[t]||(n.eventListenerList[t]=[]);n.addEventListener(t,i,s);n.eventListenerList[t].indexOf(i)<0&&n.eventListenerList[t].push(i)})};t.removeEventListeners=function(n,t,i){t.forEach(function(t){var r=void 0;n.removeEventListener(t,i,!1);n.eventListenerList&&n.eventListenerList[t]&&(r=n.eventListenerList[t].indexOf(i))>-1&&n.eventListenerList[t].splice(r,1)})};t.removeAllListenersFromEl=function(n,t){function r(t){t===n._startEventListener&&this.el.removeEventListener(this.eventName,t,!1)}if(t.eventListenerList){for(var i in t.eventListenerList)t.eventListenerList[i].forEach(r,{eventName:i,el:t});t.eventListenerList={}}};t.supportsRange=function(){var n=document.createElement("input");return n.setAttribute("type","range"),"text"!==n.type}},function(){}])})